# VPS2.0 Environment Configuration Template
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control!

#==============================================
# Global Settings
#==============================================
DOMAIN=example.com
ADMIN_EMAIL=admin@example.com
TZ=UTC

#==============================================
# Database Credentials
#==============================================

# PostgreSQL
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
# Individual database passwords
SWORDINTEL_DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
MISP_DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
N8N_DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
GITLAB_DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE

# Redis
REDIS_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE

# Neo4j
NEO4J_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE

# MariaDB (for MISP)
MISP_DB_ROOT_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE

#==============================================
# Application Credentials
#==============================================

# Portainer
# Generate with: docker run --rm httpd:2.4-alpine htpasswd -nbB admin 'YOUR_PASSWORD' | cut -d ":" -f 2
PORTAINER_PASSWORD_HASH=CHANGE_ME_BCRYPT_HASH_HERE

# Grafana
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE

# SWORDINTELLIGENCE
JWT_SECRET=CHANGE_ME_RANDOM_64_CHAR_STRING_HERE

# MISP
MISP_ADMIN_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
MISP_API_KEY=CHANGE_ME_AFTER_FIRST_LOGIN

# OpenCTI
OPENCTI_ADMIN_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
OPENCTI_ADMIN_TOKEN=CHANGE_ME_UUID_HERE
RABBITMQ_USER=opencti
RABBITMQ_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE

# n8n
N8N_ENCRYPTION_KEY=CHANGE_ME_RANDOM_STRING_HERE

# GitLab
# Note: GitLab generates its own initial root password
# Retrieve with: docker-compose exec gitlab cat /etc/gitlab/initial_root_password

#==============================================
# ARTICBASTION Configuration
#==============================================
BASTION_MODE=FORTRESS
SECURITY_LEVEL=PARANOID
NETWORK_ISOLATION=true
AUDIT_LEVEL=MAXIMUM
IDS_MODE=ACTIVE

#==============================================
# HURRICANE IPv6 Proxy (Optional)
#==============================================

# Enable/Disable HURRICANE
HURRICANE_ENABLED=false

# Hurricane Electric Tunnel
HE_ENABLED=false
HE_USERNAME=your_he_username
HE_PASSWORD=your_he_password
HE_TUNNEL_ID=your_tunnel_id

# Mullvad VPN
MULLVAD_ENABLED=false
MULLVAD_ACCOUNT=your_mullvad_account_number

# WireGuard
WG_ENABLED=false

# HURRICANE Settings
HURRICANE_LOG_LEVEL=info
IPV6_PREFIX=
IPV6_GATEWAY=

#==============================================
# Monitoring & Alerting
#==============================================

# Watchtower notifications (optional)
# Format: discord://token@channel or telegram://token@channel
WATCHTOWER_NOTIFICATION_URL=

# Grafana Slack/Discord webhook (optional)
GRAFANA_NOTIFICATION_WEBHOOK=

#==============================================
# Security Settings
#==============================================

# Fail2ban (configured on host)
FAIL2BAN_BANTIME=3600
FAIL2BAN_MAXRETRY=5
FAIL2BAN_FINDTIME=600

# CrowdSec API Key (optional)
CROWDSEC_API_KEY=

#==============================================
# Backup Settings
#==============================================

# Backup destination (local or remote)
BACKUP_DIR=/srv/backups
BACKUP_RETENTION_DAYS=30

# S3-compatible backup storage (optional)
S3_BACKUP_ENABLED=false
S3_ENDPOINT=
S3_BUCKET=
S3_ACCESS_KEY=
S3_SECRET_KEY=

#==============================================
# Resource Limits
#==============================================

# Elasticsearch (OpenCTI)
ES_JAVA_OPTS=-Xms2g -Xmx2g

# Node (OpenCTI)
NODE_OPTIONS=--max-old-space-size=4096

#==============================================
# Build Arguments
#==============================================
BUILD_DATE=$(date -u +"%Y-%m-%dT%H:%M:%SZ")
VCS_REF=$(git rev-parse --short HEAD)

#==============================================
# CLOUDCLEAR - Cloud Provider Detection & Intelligence
#==============================================

# Enable CLOUDCLEAR deployment
DEPLOY_CLOUDCLEAR=false

# API Configuration
CLOUDCLEAR_SECRET_KEY=CHANGE_ME_CLOUDCLEAR_SECRET_KEY_32_CHARS
CLOUDCLEAR_MAX_CONCURRENT_SCANS=10
CLOUDCLEAR_SCAN_TIMEOUT=300

# Intelligence Service API Keys (Optional)
CLOUDCLEAR_SHODAN_API_KEY=
CLOUDCLEAR_CENSYS_API_ID=
CLOUDCLEAR_CENSYS_API_SECRET=
CLOUDCLEAR_VIRUSTOTAL_API_KEY=

# Cloud Provider API Keys (Optional - for enhanced detection)
CLOUDCLEAR_CLOUDFLARE_API_KEY=
CLOUDCLEAR_CLOUDFLARE_API_EMAIL=
CLOUDCLEAR_CLOUDFLARE_ACCOUNT_ID=
CLOUDCLEAR_AKAMAI_CLIENT_TOKEN=
CLOUDCLEAR_AKAMAI_CLIENT_SECRET=
CLOUDCLEAR_AKAMAI_ACCESS_TOKEN=
CLOUDCLEAR_AWS_ACCESS_KEY_ID=
CLOUDCLEAR_AWS_SECRET_ACCESS_KEY=
CLOUDCLEAR_AWS_REGION=us-east-1
CLOUDCLEAR_AZURE_SUBSCRIPTION_ID=
CLOUDCLEAR_AZURE_CLIENT_ID=
CLOUDCLEAR_AZURE_CLIENT_SECRET=
CLOUDCLEAR_AZURE_TENANT_ID=
CLOUDCLEAR_GCP_PROJECT_ID=
CLOUDCLEAR_GCP_SERVICE_ACCOUNT_KEY=

#==============================================
# Development/Testing (DO NOT USE IN PRODUCTION)
#==============================================

# Skip TLS verification (DEVELOPMENT ONLY)
SKIP_TLS_VERIFY=false

# Debug mode
DEBUG=false

#==============================================
# Password Generation Helper
#==============================================
# Generate strong passwords with:
# openssl rand -base64 32
#
# Generate UUID for OpenCTI token:
# uuidgen
#
# Generate JWT secret (64 chars):
# openssl rand -base64 64
#
# Generate Portainer password hash:
# docker run --rm httpd:2.4-alpine htpasswd -nbB admin 'YOUR_PASSWORD' | cut -d ":" -f 2
